{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Home Alarm allows you to use any media player such as Alexa or Google Home to make them act as an alarm system at home. It also supports the notification system to alert you if you are not at home. Documentation This security system keep listening the window and door sensors that are installed in your smart home system and the safe mode input. If the safe mode is active and some of windows or doors are opened, the user has a few seconds to indentify himself into the system. ( see link ) If the user cannot identify himself into the system, the alarm will be fired on the media player and the user will be notified that an unathorized user has been entered to his house. Example This is a quick example about how to configure the application with Alexa as media player and 2 window/door sensors. home_alarm: module: home_alarm class: HomeAlarm sensors: - binary_sensor.livingroom_window_contact - binary_sensor.entrance_door_contact safe_mode: input_boolean.safe_mode sound: amzn_sfx_scifi_alarm_04 loop_delay: 4 media_player: media_player.alexa notifiers: - notify.mobile_app_iphone - notify.notifier","title":"Home"},{"location":"#documentation","text":"This security system keep listening the window and door sensors that are installed in your smart home system and the safe mode input. If the safe mode is active and some of windows or doors are opened, the user has a few seconds to indentify himself into the system. ( see link ) If the user cannot identify himself into the system, the alarm will be fired on the media player and the user will be notified that an unathorized user has been entered to his house.","title":"Documentation"},{"location":"#example","text":"This is a quick example about how to configure the application with Alexa as media player and 2 window/door sensors. home_alarm: module: home_alarm class: HomeAlarm sensors: - binary_sensor.livingroom_window_contact - binary_sensor.entrance_door_contact safe_mode: input_boolean.safe_mode sound: amzn_sfx_scifi_alarm_04 loop_delay: 4 media_player: media_player.alexa notifiers: - notify.mobile_app_iphone - notify.notifier","title":"Example"},{"location":"identification/","text":"\ud83d\udc77 WIP, Sorry for the inconveniences.","title":"Identification"},{"location":"installation/","text":"Installation Home Alarm runs on AppDeamon, so you have to have installed it in your HA environment. HACS To install Home Alarm easily I recommend to install it by HACS. You need to enable AppDeamon Apps in your HACS integration and then search the repository by name. Manual To install Home Alarm manually you have to download the home_alarm directory inside apps folder and copy it to your /config/appdeamon/apps directory in HA. You must restart AppDeamon. What's next? \u27a1\ufe0f configuration","title":"Installation"},{"location":"installation/#installation","text":"Home Alarm runs on AppDeamon, so you have to have installed it in your HA environment.","title":"Installation"},{"location":"installation/#hacs","text":"To install Home Alarm easily I recommend to install it by HACS. You need to enable AppDeamon Apps in your HACS integration and then search the repository by name.","title":"HACS"},{"location":"installation/#manual","text":"To install Home Alarm manually you have to download the home_alarm directory inside apps folder and copy it to your /config/appdeamon/apps directory in HA. You must restart AppDeamon.","title":"Manual"},{"location":"installation/#whats-next","text":"\u27a1\ufe0f configuration","title":"What's next?"},{"location":"requirements/","text":"Requirements For run successfully this application you have to take into account the following: At least one window/door sensor configured Safe Mode as an input_boolean configured in HA Have a media player configured in HA At least one notifier","title":"Requirements"},{"location":"requirements/#requirements","text":"For run successfully this application you have to take into account the following: At least one window/door sensor configured Safe Mode as an input_boolean configured in HA Have a media player configured in HA At least one notifier","title":"Requirements"},{"location":"config/","text":"Configuration Basic This is a quick example about how to configure the application with Alexa as media player and 2 window/door sensors. home_alarm: module: home_alarm class: HomeAlarm sensors: - binary_sensor.livingroom_window_contact - binary_sensor.entrance_door_contact safe_mode: input_boolean.safe_mode sound: amzn_sfx_scifi_alarm_04 media_player: media_player.alexa notifiers: - notify.mobile_app_iphone - notify.notifier Advanced Example of an advanced configuration. I recommend to take a look Attributes section. home_alarm: module: home_alarm class: HomeAlarm sensors: - binary_sensor.livingroom_window_contact - binary_sensor.entrance_door_contact safe_mode: input_boolean.safe_mode activation_delay: 10 media_player: media_player.alexa sound: amzn_sfx_scifi_alarm_04 loop_delay: 4 stop_delay: 240 notifiers: - notify.mobile_app_iphone - notify.notifier alert_title: \"ALARM ALERT!\" alert_msg: \"Alarm has been fired\" \ud83d\udca1 IMPORTANT NOTE sound and loop_delay are linked variables. If the track specified at sound is too short, you will want to repeat it continuously specifying the attribute loop_delay as the same as the sound track duration. Attributes Name Type Required Default Description sensors array yes [] Windows and doors binary sensors. safe_mode string yes Safe mode input boolean. If true protected mode enabled, otherwise false protected mode disabled. media_player string yes Media player device to reproduce the alarm sound. sound string yes If Alexa name of sound from here , otherwise other media players specify the full path of the mp3 track. loop_delay int no None Time to reproduce again sound attribute. If sound duration is 4secs, loop_delay has to be 4. stop_delay int no 180 Time to stop alarm after been fired. activation_delay int no 15 Time that user has to be identified in the system. If user is not identified, alarm will be fired. notifiers array yes [] List of notifiers to inform the incident detected. alert_title string no \"ALERT!\" Customize the title of the notification alert_msg string no \"Alarm has been fired!\" Customize the message of the notification","title":"Main Configuration"},{"location":"config/#configuration","text":"","title":"Configuration"},{"location":"config/#basic","text":"This is a quick example about how to configure the application with Alexa as media player and 2 window/door sensors. home_alarm: module: home_alarm class: HomeAlarm sensors: - binary_sensor.livingroom_window_contact - binary_sensor.entrance_door_contact safe_mode: input_boolean.safe_mode sound: amzn_sfx_scifi_alarm_04 media_player: media_player.alexa notifiers: - notify.mobile_app_iphone - notify.notifier","title":"Basic"},{"location":"config/#advanced","text":"Example of an advanced configuration. I recommend to take a look Attributes section. home_alarm: module: home_alarm class: HomeAlarm sensors: - binary_sensor.livingroom_window_contact - binary_sensor.entrance_door_contact safe_mode: input_boolean.safe_mode activation_delay: 10 media_player: media_player.alexa sound: amzn_sfx_scifi_alarm_04 loop_delay: 4 stop_delay: 240 notifiers: - notify.mobile_app_iphone - notify.notifier alert_title: \"ALARM ALERT!\" alert_msg: \"Alarm has been fired\" \ud83d\udca1 IMPORTANT NOTE sound and loop_delay are linked variables. If the track specified at sound is too short, you will want to repeat it continuously specifying the attribute loop_delay as the same as the sound track duration.","title":"Advanced"},{"location":"config/#attributes","text":"Name Type Required Default Description sensors array yes [] Windows and doors binary sensors. safe_mode string yes Safe mode input boolean. If true protected mode enabled, otherwise false protected mode disabled. media_player string yes Media player device to reproduce the alarm sound. sound string yes If Alexa name of sound from here , otherwise other media players specify the full path of the mp3 track. loop_delay int no None Time to reproduce again sound attribute. If sound duration is 4secs, loop_delay has to be 4. stop_delay int no 180 Time to stop alarm after been fired. activation_delay int no 15 Time that user has to be identified in the system. If user is not identified, alarm will be fired. notifiers array yes [] List of notifiers to inform the incident detected. alert_title string no \"ALERT!\" Customize the title of the notification alert_msg string no \"Alarm has been fired!\" Customize the message of the notification","title":"Attributes"},{"location":"config/alexa/","text":"Alexa has a peculiarity about how to reproduce sounds when acting as a media player. Alexa is limited to reproduce sounds that are only in their directory of sounds . Choose the sound most you like and assign it to the sound attribute at yaml. After that figure out at the sound duration and assign the loop_delay variable with the track duration. Example Go to Alexa Skills available sounds and choose one. Get the sound you like most, in my case <audio src=\"soundbank://soundlibrary/scifi/amzn_sfx_scifi_alarm_03\"/> . After that, get the last part of audio like this: amzn_sfx_scifi_alarm_03 and assign it to the sound attribute in apps.yaml Take a look at the duration of the sound and assign it to the loop_delay attribute as: loop_delay: 5 \ud83d\udca1 TIP Alexa puts the request in a queue and I recommend truncate the number of track duration. If track duration is 5.96 secs trunc it to 5.","title":"Alexa"},{"location":"config/alexa/#example","text":"Go to Alexa Skills available sounds and choose one. Get the sound you like most, in my case <audio src=\"soundbank://soundlibrary/scifi/amzn_sfx_scifi_alarm_03\"/> . After that, get the last part of audio like this: amzn_sfx_scifi_alarm_03 and assign it to the sound attribute in apps.yaml Take a look at the duration of the sound and assign it to the loop_delay attribute as: loop_delay: 5 \ud83d\udca1 TIP Alexa puts the request in a queue and I recommend truncate the number of track duration. If track duration is 5.96 secs trunc it to 5.","title":"Example"},{"location":"config/others/","text":"Google Home and others media players have the ability to play mp3 tracks from internet or locally. That's because you have to adapt the apps.yaml configuration to make that working properly. I recommend to follow the next steps in order to have app well configured. Find a track with mp3 extension from the internet or use one localy. Copy & paste the url to the sound attribute. Figure out at the track duration and fit the loop_delay attribute with the track duration. You can skip this step if your track is greater than stop_delay .","title":"Google Home & Others"}]}